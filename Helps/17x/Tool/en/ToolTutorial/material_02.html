<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>02. Represent toon-like flames with materials. &mdash; Effekseer Help  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=77cdefee" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/js/three.min.js?v=1b2a738c"></script>
        <script src="../../_static/js/effekseer.min.js?v=02ca8712"></script>
        <script src="../../_static/js/iframe.js?v=0460a6df"></script>
        <script src="../../_static/js/OrbitControls.js?v=366c62db"></script>
        <script src="../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="03. Toon-like flames with sequential materials." href="material_03.html" />
    <link rel="prev" title="01. The Introduction of Material" href="material_01.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Effekseer Help
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ja/index.html">Effekseer Help 日本語</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Effekseer Help (English)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#basic">Basic</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#material">Material</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="material_01.html">01. The Introduction of Material</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">02. Represent toon-like flames with materials.</a></li>
<li class="toctree-l4"><a class="reference internal" href="material_03.html">03. Toon-like flames with sequential materials.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ToolReference/index.html">Tool-Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MaterialToolReference/index.html">Material-Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ToolTips/01.html">TIPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ReleaseNotes/index.html">Release Notes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Effekseer Help</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Effekseer Help (English)</a></li>
          <li class="breadcrumb-item"><a href="index.html">Tutorial</a></li>
      <li class="breadcrumb-item active">02. Represent toon-like flames with materials.</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="represent-toon-like-flames-with-materials">
<h1>02. Represent toon-like flames with materials.<a class="headerlink" href="#represent-toon-like-flames-with-materials" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>In this chapter, we will use materials to create a toon-like flame.You can achieve complex expressions that would be difficult to achieve without materials.</p>
<div align="center">
<iframe src='../../Effects/viewer_en.html#Tutorials/Mat_02/Fire.efkefc'></iframe>
<p>Effects to be created in this chapter</p>
</div></section>
<section id="create">
<h2>Create<a class="headerlink" href="#create" title="Link to this heading">¶</a></h2>
<p>We will use various images and 3D models in this chapter.
In this case, create similar material data using software you are familiar with.</p>
<p>Since it takes a lot of time and effort to create those data, we have prepared the data that we have already created here.
I will also explain a little about how to create them, but if you are unable or unwilling to create the data, please use these.</p>
<p><a href="../../Effects/Tutorials/Mat_02_01.zip">Download</a></p>
<p>The model and material have already been set up.
See the previous chapter for creating new materials and basic usage.</p>
<p>The first step is to display a gray image of the first scrolling cloud pattern.</p>
<p>Add an <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> and select <code class="docutils literal notranslate"><span class="pre">Textures/Noise1.png</span></code> as the image.
As it is, it just displays the image.</p>
<img alt="../../_images/Grad_En.png" class="align-center" src="../../_images/Grad_En.png" />
<p>Add <code class="docutils literal notranslate"><span class="pre">Moving</span> <span class="pre">UV</span> <span class="pre">Node</span></code> to move it.
Then, connect to the <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code>.
Enter <code class="docutils literal notranslate"><span class="pre">(0.0,</span> <span class="pre">0.4)</span></code> for the speed of the moving UV node.</p>
<p>The image will now flow up and down.</p>
<img alt="../../_images/Noise_Moving_En.png" class="align-center" src="../../_images/Noise_Moving_En.png" />
<p>However, the cloud pattern is too coarse as it is, so I will make it finer.
Connects <code class="docutils literal notranslate"><span class="pre">Multiply</span> <span class="pre">Node</span></code> to UVs of <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code>.
The value of the multiplication is the output of <code class="docutils literal notranslate"><span class="pre">Moving</span> <span class="pre">UV</span> <span class="pre">Node</span></code> and <code class="docutils literal notranslate"><span class="pre">(4.0,</span> <span class="pre">1.0)</span></code>.</p>
<p>Then 1 of the UV coordinates of the image will be 4.
This means that four pictures will be displayed in the range where one picture was displayed before.
This time, it will be displayed horizontally a lot.</p>
<img alt="../../_images/Noise_Enlarge_En.png" class="align-center" src="../../_images/Noise_Enlarge_En.png" />
<p>It doesn't look like a flame at all as it is.
Add distortion to complicate the motion.</p>
<p>Add an <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> and select the distortion image <code class="docutils literal notranslate"><span class="pre">Textures/Normal1.png</span></code>.</p>
<p>Add  an <code class="docutils literal notranslate"><span class="pre">Mask</span> <span class="pre">Elements</span> <span class="pre">Node</span></code> and extract the RG.
Then add  <code class="docutils literal notranslate"><span class="pre">Subtract</span> <span class="pre">Node</span></code>  and subtract 0.5.
The red and green colors in the distorted image are distorted up, down, left and right with 0.5 as 0.
Therefore, subtract 0.5 from the center.</p>
<p>In addition, multiply by 0.5 to adjust the intensity of the distortion.</p>
<p>Then, add the distortion value to the UV.</p>
<p>When I did so, the image became distorted.
It may look somewhat like a flame.</p>
<img alt="../../_images/Noise_Distort_En.png" class="align-center" src="../../_images/Noise_Distort_En.png" />
<p>The flame is darker at the top and brighter at the bottom.
To achieve this, we can add or multiply gradient images.</p>
<p>Add an <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> and select the image <code class="docutils literal notranslate"><span class="pre">Textures/Gradation1.png</span></code>.
Then, the distorted image and the added image are added together with <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">Node</span></code>.</p>
<img alt="../../_images/Grad_En.png" class="align-center" src="../../_images/Grad_En.png" />
<p>Then, add it to the distorted image from earlier with the addition node.</p>
<p>The image is now glowing at the bottom.</p>
<img alt="../../_images/Grad_Add_En.png" class="align-center" src="../../_images/Grad_Add_En.png" />
<p>Next, to darken the upper part of the image, we multiply the previous image and the added image with the <code class="docutils literal notranslate"><span class="pre">Multiply</span> <span class="pre">Node</span></code>.</p>
<p>When I did so, the upper part of the image became darker.
It has become somewhat like a flame.</p>
<img alt="../../_images/Grad_Mul_En.png" class="align-center" src="../../_images/Grad_Mul_En.png" />
<p>Finally, color it.</p>
<p>Use a colored gradient image for coloring.
Add an <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> and select the image <code class="docutils literal notranslate"><span class="pre">Textures/Gradation2.png</span></code>.</p>
<img alt="../../_images/Grad_Color_En.png" class="align-center" src="../../_images/Grad_Color_En.png" />
<p>Then, the <code class="docutils literal notranslate"><span class="pre">Mask</span> <span class="pre">Elements</span> <span class="pre">Node</span></code> extracts the RG from the flowing image.
Enter it into the UV.</p>
<p>Then the color will now change along the gradient image.</p>
<img alt="../../_images/Grad_Color_Distort_En.png" class="align-center" src="../../_images/Grad_Color_Distort_En.png" />
<p>The position where the gradient image is referenced changes according to the color of the input flowing image.
This will cause the color to change according to the gradient.</p>
<p>Black color is 0, so it points to the top of the image, and white color is 1, so it points to the bottom of the image.
We use it to turn a gray image into a color image.</p>
<img alt="../../_images/LookUp.png" class="align-center" src="../../_images/LookUp.png" />
<p>There is the question of whether we can enter two RG's when we only change the position of the reference up and down.
For that matter, since the color is the same in the left and right directions this time, it doesn't matter what value you enter.</p>
<p>Depending on the gradient image, you may want to fix the R value and change only the G value.</p>
<p>Similarly, change the transparency.
Add an <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> and select the image <code class="docutils literal notranslate"><span class="pre">Textures/Gradation3.png</span></code>.</p>
<p>Connect the flowing images in the same way.White areas will be opaque and black areas will be transparent.</p>
<img alt="../../_images/Grad_OpacityMask_Distort_En.png" class="align-center" src="../../_images/Grad_OpacityMask_Distort_En.png" />
<p>Connect the output of the <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> to the Emmisive.</p>
<p>Connect the output of the <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> to the OpacityMask.</p>
<p>The flame pattern is now displayed.</p>
<img alt="../../_images/Output_En.png" class="align-center" src="../../_images/Output_En.png" />
<p>However, the colors of the small parts are not correct.</p>
<img alt="../../_images/PreResult.png" class="align-center" src="../../_images/PreResult.png" />
<p>The reason for this is that repeat is selected when referring to the image in the <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code>.</p>
<p>There are two types of images: clamp and repeat.
This is a parameter for how to handle the ends.</p>
<p>When the UV coordinate exceeds 1.0, you can specify whether the edge will be treated as an edge color or whether the edge will be repeated.
When referring to the end, if it is set to repeat, it will refer to the opposite side.</p>
<p>The left is the clamp and the right is the repeat.</p>
<img alt="../../_images/Clamp_Repeat.png" class="align-center" src="../../_images/Clamp_Repeat.png" />
<p>If the color value exceeds 1.0 (255) or falls below 0, the result of referring to the other side will be wrong colors.</p>
<p>It can exceed 1.0 due to errors in the calculation, and in this case, because the images are added.</p>
<p>Therefore, we will change the repeat of the gradient's <code class="docutils literal notranslate"><span class="pre">Sample</span> <span class="pre">Image</span> <span class="pre">Node</span></code> to clamp.</p>
<img alt="../../_images/Sampler_En.png" class="align-center" src="../../_images/Sampler_En.png" />
<p>It is now complete.</p>
<div align="center">
<iframe src='../../Effects/viewer_en.html#Tutorials/Mat_02/Fire.efkefc'></iframe>
</div><p>Finally, I have made the effects created in this chapter available for download.</p>
<p><a href="../../Effects/Tutorials/Mat_02_02.zip">Download</a></p>
<section id="how-to-create-a-cloud-image">
<h3>How to create a cloud image<a class="headerlink" href="#how-to-create-a-cloud-image" title="Link to this heading">¶</a></h3>
<p>This time I am using PhotoShop.
Create a new image with a resolution of 1024 and select Clouds in PhotoShop.
Increase the contrast so that the black and white appear stronger.</p>
<p>Then, reduce the resolution to 512 and save it.</p>
<img alt="../../_images/Image_Cloud.png" class="align-center" src="../../_images/Image_Cloud.png" />
</section>
<section id="how-to-create-a-distorted-image">
<h3>How to create a distorted image<a class="headerlink" href="#how-to-create-a-distorted-image" title="Link to this heading">¶</a></h3>
<p>This time I am using PhotoShop.
Create a new image with a resolution of 1024 and select Clouds in PhotoShop.</p>
<p>Next, we will create a 3072x3072 image.
Copy 9 cloud patterns from the previous step.
This is to make it easy to create a loop image.
Then, create the normals.</p>
<p>Finally, cut out the center 1024x1024 image, shrink it to 512, and save it.</p>
<img alt="../../_images/Image_Normal.png" class="align-center" src="../../_images/Image_Normal.png" />
</section>
<section id="how-to-create-a-gradient-image">
<h3>How to create a gradient image<a class="headerlink" href="#how-to-create-a-gradient-image" title="Link to this heading">¶</a></h3>
<p>It is created with PhotoShop's gradient.
Since it is a toon, the colors are made to change abruptly.</p>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>In this chapter, we have created a flame.
For clarity, multiple images are separated, but in practice, images may be merged to make them lighter.</p>
<p>However, this will only result in a fixed continuous flow of flame.
In the next chapter, we will be able to apply this to a variety of things.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="material_01.html" class="btn btn-neutral float-left" title="01. The Introduction of Material" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="material_03.html" class="btn btn-neutral float-right" title="03. Toon-like flames with sequential materials." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Effekseer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>